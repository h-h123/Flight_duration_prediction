<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flight Details</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Syncfusion Essential JS 2 Styles -->
    <link rel="stylesheet" href="https://cdn.syncfusion.com/ej2/material.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <!-- DataTables JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <style>
      .selected-info {
          margin-top: 20px;
          padding: 10px;
          background-color: #f5f5f5;
          border-radius: 5px;
      }
  
      .selected-value {
          font-weight: bold;
          margin-left: 10px;
      }
  </style>
  
</head>
<body class="bg-dark">
    <div class="container">
        <div class="row">
            <div class="card" style="width: 100%; height: 100%; margin-top: 56px">
                <div class="card-header" style="text-align: center">
                    <h1>Flight Details</h1>
                    <div class="selected-info">
                      <!-- <h3>Selected:</h3> -->
                      <p>Airline: <span class="selected-value">{{ airline }}</span></p>
                      <p>Origin: <span class="selected-value">{{ origin }}</span> &nbsp;&nbsp; Destination: <span class="selected-value">{{ destination }}</span></p>
                      <p></p>
                      
                  </div>
                </div>
                <div class="card-body">
                    <!-- <div class="row">
                        <div class="col-md-12">
                            <label for="year">Select Year:</label>
                            <select id="year" class="form-select">
                              <option value="">All Years</option>
                              {% for year in years %}
                              <option value="{{ year }}">{{ year }}</option>
                              {% endfor %}
                            </select>
                        </div>
                    </div> -->
                    
                    <div class="row">
                        <div class="col-md-12">
                            <table id="flightTable" class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Flight Number</th>
                                        <!-- <th>Airline</th>
                                        <th>Origin</th>
                                        <th>Destination</th> -->
                                        <th>Departure Time</th>
                                        <th>Arrival Time</th>
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for flight in flight_details %}
                                    <tr>
                                        <td>{{ flight['ds'] }}</td>
                                        <td>{{ flight['flightNumber'] }}</td>
                                        <!-- <td>{{ flight['airline'] }}</td>
                                        <td>{{ flight['origin'] }}</td>
                                        <td>{{ flight['destination'] }}</td> -->
                                        <td>{{ flight['y_departure'] }}</td>
                                        <td>{{ flight['y_arrival'] }}</td>
                                        
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Syncfusion Essential JS 2 Scripts -->
  <script src="https://cdn.syncfusion.com/ej2/dist/ej2.min.js"></script>
  <script src="https://cdn.syncfusion.com/ej2/ej2-calendars/dist/global/ej2-calendars.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    $(document).ready(function() {
      // Initialize DataTable with pagination
      var table = $('#flightTable').DataTable({
        paging: true,
        lengthMenu: [10, 25, 50, 75, 100], // Define the number of rows per page
        pageLength: 10 // Set the initial number of rows per page
      });

      // Handle year selection change
      $('#year').on('change', function() {
        var selectedYear = $(this).val();
        if (selectedYear) {
          // Filter the table based on the selected year
          table.columns(6).search('^' + selectedYear + '-', true, false).draw();
        } else {
          // Remove the year filter and show all rows
          table.columns(6).search('').draw();
        }
      });
    });
  </script>


</body>
</html>
